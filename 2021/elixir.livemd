# Advent of Code - 2021

## Day 1: Sonar Sweep

<!-- livebook:{"livebook_object":"cell_input","name":"input","type":"textarea","value":"188\n192\n193\n194\n192\n213\n214\n216\n219\n221\n222\n228\n231\n234\n239\n240\n252\n262\n267\n279\n278\n277\n279\n293\n309\n310\n312\n307\n308\n316\n320\n323\n335\n336\n343\n368\n357\n370\n377\n386\n387\n386\n402\n379\n393\n394\n403\n404\n405\n400\n421\n422\n423\n408\n409\n411\n408\n415\n417\n430\n439\n432\n459\n462\n463\n464\n466\n472\n485\n473\n488\n491\n492\n493\n496\n497\n501\n503\n516\n514\n513\n514\n517\n521\n522\n526\n548\n553\n560\n563\n565\n600\n601\n595\n596\n597\n599\n613\n630\n631\n635\n642\n648\n651\n654\n645\n653\n657\n676\n688\n711\n717\n718\n728\n735\n730\n733\n734\n737\n736\n738\n741\n749\n751\n752\n762\n765\n776\n779\n758\n743\n754\n759\n772\n773\n783\n790\n791\n783\n781\n784\n785\n791\n780\n789\n805\n792\n793\n797\n825\n828\n820\n817\n820\n821\n824\n825\n801\n815\n816\n829\n844\n845\n850\n853\n845\n841\n842\n844\n830\n844\n839\n842\n857\n859\n861\n871\n880\n881\n903\n935\n960\n964\n967\n969\n972\n990\n996\n999\n1003\n1008\n1034\n1038\n1039\n1053\n1054\n1055\n1061\n1065\n1066\n1061\n1064\n1073\n1078\n1084\n1087\n1106\n1113\n1118\n1128\n1132\n1133\n1126\n1127\n1134\n1150\n1153\n1162\n1176\n1186\n1187\n1215\n1218\n1221\n1224\n1225\n1232\n1234\n1241\n1247\n1248\n1251\n1250\n1252\n1247\n1249\n1251\n1252\n1253\n1260\n1263\n1269\n1270\n1277\n1287\n1262\n1275\n1276\n1281\n1282\n1285\n1284\n1296\n1304\n1310\n1307\n1308\n1285\n1286\n1293\n1298\n1303\n1309\n1312\n1315\n1317\n1325\n1335\n1338\n1343\n1346\n1348\n1360\n1366\n1367\n1371\n1384\n1396\n1400\n1407\n1425\n1424\n1427\n1433\n1446\n1449\n1466\n1469\n1495\n1507\n1508\n1509\n1521\n1514\n1519\n1533\n1534\n1538\n1539\n1541\n1551\n1561\n1569\n1570\n1582\n1583\n1593\n1599\n1607\n1608\n1614\n1618\n1633\n1638\n1646\n1652\n1653\n1680\n1682\n1689\n1700\n1702\n1700\n1706\n1709\n1710\n1712\n1718\n1710\n1711\n1736\n1727\n1729\n1758\n1762\n1780\n1794\n1811\n1813\n1817\n1818\n1826\n1829\n1830\n1811\n1817\n1818\n1820\n1821\n1822\n1824\n1825\n1838\n1840\n1841\n1844\n1846\n1849\n1875\n1878\n1879\n1881\n1908\n1917\n1923\n1918\n1930\n1921\n1926\n1927\n1929\n1940\n1941\n1946\n1949\n1951\n1960\n1964\n1965\n1971\n1975\n1979\n1984\n1986\n1985\n2010\n2005\n2006\n2010\n2011\n2012\n2013\n2029\n2031\n2036\n2039\n2045\n2027\n2035\n2014\n2017\n2031\n2033\n2037\n2040\n2044\n2050\n2051\n2049\n2052\n2053\n2068\n2069\n2071\n2073\n2074\n2075\n2086\n2089\n2091\n2092\n2093\n2094\n2095\n2096\n2097\n2100\n2106\n2107\n2108\n2122\n2094\n2095\n2121\n2131\n2132\n2135\n2162\n2177\n2178\n2180\n2199\n2210\n2211\n2213\n2217\n2229\n2255\n2259\n2266\n2268\n2266\n2272\n2278\n2295\n2296\n2294\n2298\n2303\n2309\n2310\n2311\n2312\n2310\n2315\n2316\n2332\n2335\n2337\n2339\n2342\n2343\n2362\n2371\n2373\n2375\n2381\n2380\n2382\n2396\n2398\n2405\n2406\n2403\n2405\n2413\n2418\n2423\n2440\n2443\n2442\n2434\n2436\n2444\n2450\n2456\n2485\n2486\n2487\n2491\n2489\n2490\n2491\n2513\n2509\n2511\n2525\n2526\n2535\n2548\n2551\n2557\n2559\n2560\n2568\n2565\n2591\n2607\n2614\n2615\n2616\n2630\n2665\n2677\n2680\n2679\n2686\n2687\n2692\n2687\n2689\n2690\n2694\n2692\n2693\n2694\n2695\n2696\n2698\n2720\n2743\n2744\n2752\n2777\n2780\n2778\n2786\n2800\n2807\n2808\n2810\n2817\n2823\n2835\n2840\n2848\n2850\n2855\n2856\n2861\n2864\n2890\n2892\n2894\n2905\n2906\n2907\n2918\n2922\n2927\n2928\n2918\n2933\n2934\n2936\n2939\n2947\n2944\n2932\n2938\n2941\n2954\n2957\n2965\n2970\n2971\n2972\n2981\n2984\n2994\n3006\n3028\n3020\n3023\n3026\n3021\n3024\n3016\n3041\n3042\n3053\n3055\n3056\n3057\n3060\n3061\n3062\n3069\n3070\n3097\n3104\n3107\n3110\n3112\n3114\n3115\n3122\n3120\n3121\n3142\n3143\n3167\n3169\n3170\n3172\n3180\n3182\n3181\n3182\n3183\n3184\n3185\n3186\n3201\n3181\n3185\n3187\n3166\n3162\n3164\n3167\n3168\n3180\n3189\n3190\n3191\n3189\n3191\n3196\n3213\n3224\n3229\n3233\n3232\n3245\n3279\n3302\n3313\n3316\n3333\n3334\n3337\n3339\n3348\n3364\n3365\n3375\n3380\n3381\n3382\n3402\n3418\n3433\n3438\n3439\n3453\n3482\n3484\n3488\n3497\n3511\n3500\n3502\n3497\n3502\n3505\n3516\n3517\n3519\n3525\n3520\n3524\n3528\n3533\n3548\n3552\n3555\n3562\n3573\n3577\n3579\n3587\n3592\n3620\n3615\n3616\n3619\n3620\n3631\n3630\n3640\n3674\n3675\n3684\n3685\n3699\n3701\n3694\n3727\n3746\n3749\n3742\n3745\n3748\n3756\n3759\n3746\n3759\n3762\n3763\n3748\n3762\n3760\n3766\n3770\n3774\n3776\n3778\n3785\n3787\n3788\n3815\n3816\n3822\n3832\n3831\n3832\n3835\n3834\n3820\n3822\n3823\n3825\n3826\n3831\n3833\n3843\n3864\n3889\n3895\n3903\n3908\n3910\n3909\n3911\n3912\n3913\n3921\n3948\n3949\n3954\n3955\n3958\n3960\n3962\n3963\n3975\n3986\n3989\n3990\n3992\n4006\n4012\n4032\n4036\n4037\n4038\n4041\n4048\n4056\n4041\n4044\n4048\n4077\n4076\n4088\n4072\n4073\n4075\n4080\n4075\n4080\n4081\n4110\n4139\n4142\n4143\n4145\n4148\n4155\n4157\n4163\n4164\n4174\n4181\n4186\n4193\n4195\n4198\n4197\n4202\n4209\n4208\n4211\n4213\n4211\n4223\n4222\n4224\n4232\n4234\n4239\n4243\n4245\n4247\n4248\n4252\n4245\n4253\n4289\n4288\n4290\n4292\n4294\n4295\n4298\n4308\n4314\n4315\n4320\n4328\n4326\n4328\n4334\n4330\n4339\n4362\n4363\n4364\n4365\n4366\n4375\n4388\n4389\n4395\n4382\n4393\n4385\n4381\n4380\n4391\n4392\n4409\n4410\n4414\n4434\n4445\n4452\n4457\n4453\n4461\n4469\n4468\n4487\n4482\n4505\n4512\n4513\n4517\n4535\n4542\n4544\n4546\n4559\n4560\n4575\n4576\n4578\n4579\n4580\n4581\n4582\n4585\n4589\n4588\n4592\n4593\n4594\n4620\n4621\n4632\n4633\n4634\n4640\n4641\n4643\n4651\n4666\n4672\n4673\n4672\n4674\n4695\n4697\n4707\n4706\n4708\n4709\n4705\n4702\n4694\n4732\n4734\n4735\n4723\n4728\n4734\n4752\n4754\n4756\n4759\n4768\n4770\n4773\n4780\n4781\n4783\n4792\n4797\n4806\n4825\n4833\n4839\n4838\n4842\n4843\n4853\n4851\n4852\n4853\n4834\n4835\n4836\n4837\n4838\n4837\n4833\n4843\n4844\n4825\n4826\n4832\n4833\n4832\n4840\n4844\n4838\n4839\n4862\n4867\n4868\n4873\n4877\n4881\n4888\n4891\n4896\n4911\n4910\n4911\n4906\n4913\n4915\n4918\n4926\n4933\n4968\n4969\n4970\n4974\n4978\n4979\n5002\n5008\n5010\n5034\n5040\n5034\n5035\n5046\n5042\n5044\n5060\n5063\n5068\n5069\n5078\n5079\n5080\n5081\n5080\n5066\n5081\n5105\n5113\n5122\n5125\n5129\n5144\n5136\n5101\n5102\n5104\n5106\n5107\n5109\n5114\n5116\n5112\n5116\n5114\n5118\n5121\n5127\n5138\n5125\n5133\n5127\n5140\n5142\n5143\n5144\n5150\n5154\n5155\n5156\n5177\n5180\n5182\n5170\n5171\n5159\n5165\n5166\n5173\n5172\n5186\n5195\n5200\n5201\n5229\n5231\n5233\n5234\n5258\n5268\n5278\n5279\n5284\n5288\n5285\n5292\n5319\n5323\n5325\n5332\n5343\n5366\n5368\n5367\n5370\n5377\n5394\n5395\n5394\n5398\n5399\n5405\n5407\n5415\n5416\n5422\n5423\n5424\n5442\n5446\n5447\n5448\n5454\n5455\n5456\n5457\n5473\n5475\n5474\n5475\n5486\n5506\n5489\n5526\n5527\n5529\n5532\n5533\n5548\n5549\n5552\n5541\n5548\n5567\n5577\n5578\n5577\n5592\n5598\n5602\n5609\n5611\n5626\n5604\n5614\n5615\n5616\n5617\n5634\n5644\n5632\n5645\n5644\n5658\n5661\n5662\n5664\n5665\n5660\n5684\n5686\n5689\n5692\n5693\n5700\n5709\n5714\n5715\n5701\n5694\n5696\n5702\n5712\n5727\n5743\n5747\n5750\n5756\n5757\n5758\n5770\n5771\n5780\n5789\n5795\n5800\n5801\n5808\n5809\n5810\n5824\n5825\n5822\n5828\n5829\n5832\n5847\n5848\n5864\n5871\n5879\n5883\n5885\n5888\n5889\n5890\n5903\n5904\n5919\n5924\n5932\n5944\n5950\n5949\n5969\n5961\n5981\n5989\n5992\n5997\n5999\n6000\n6007\n6008\n6011\n6025\n6030\n6034\n6038\n6046\n6051\n6052\n6053\n6082\n6102\n6101\n6105\n6106\n6119\n6124\n6132\n6131\n6133\n6136\n6137\n6170\n6173\n6190\n6199\n6200\n6203\n6207\n6224\n6226\n6227\n6228\n6229\n6231\n6251\n6254\n6279\n6282\n6293\n6294\n6296\n6301\n6306\n6307\n6310\n6315\n6316\n6328\n6329\n6330\n6333\n6351\n6353\n6352\n6362\n6340\n6343\n6349\n6357\n6380\n6379\n6386\n6410\n6433\n6442\n6456\n6457\n6458\n6474\n6485\n6487\n6489\n6481\n6466\n6469\n6474\n6478\n6482\n6492\n6509\n6511\n6534\n6567\n6566\n6569\n6578\n6592\n6593\n6594\n6602\n6607\n6614\n6617\n6614\n6613\n6614\n6618\n6619\n6629\n6645\n6652\n6651\n6655\n6658\n6669\n6692\n6693\n6700\n6705\n6706\n6710\n6709\n6691\n6710\n6711\n6719\n6721\n6722\n6726\n6727\n6739\n6741\n6753\n6754\n6764\n6767\n6772\n6798\n6812\n6818\n6850\n6851\n6886\n6887\n6888\n6889\n6903\n6902\n6903\n6906\n6896\n6902\n6903\n6905\n6909\n6915\n6916\n6917\n6937\n6934\n6935\n6960\n6973\n6974\n6996\n6997\n7009\n7010\n7016\n7017\n7032\n7036\n7049\n7059\n7065\n7066\n7067\n7072\n7102\n7105\n7109\n7134\n7139\n7141\n7135\n7141\n7145\n7150\n7155\n7156\n7157\n7159\n7172\n7186\n7185\n7213\n7217\n7225\n7228\n7251\n7268\n7273\n7271\n7287\n7288\n7289\n7314\n7319\n7323\n7339\n7345\n7346\n7348\n7347\n7348\n7356\n7376\n7385\n7387\n7386\n7389\n7400\n7401\n7408\n7413\n7414\n7415\n7429\n7456\n7442\n7444\n7451\n7452\n7450\n7451\n7450\n7491\n7503\n7496\n7497\n7499\n7517\n7518\n7523\n7526\n7527\n7539\n7540\n7541\n7565\n7568\n7571\n7575\n7576\n7587\n7588\n7598\n7600\n7603\n7605\n7623\n7624\n7629\n7625\n7627\n7632\n7638\n7648\n7650\n7654\n7655\n7656\n7659\n7679\n7681\n7687\n7690\n7691\n7710\n7711\n7712\n7731\n7734\n7735\n7738\n7739\n7737\n7738\n7733\n7752\n7755\n7762\n7763\n7787\n7797\n7798\n7800\n7805\n7838\n7841\n7842\n7867\n7868\n7875\n7882\n7896\n7887\n7889\n7890\n7909\n7885\n7886\n7894\n7897\n7899\n7917\n7918\n7911\n7910\n7916\n7915\n7916\n7917\n7922\n7935\n7943\n7940\n7941\n7953\n7947\n7950\n7969\n7970\n7987\n7997\n8001\n7989\n7990\n7992\n7994\n7996\n7997\n8006\n8021\n8031\n8032\n8042\n8055\n8062\n8066\n8067\n8071\n8073\n8075\n8076\n8078\n8081\n8107\n8106\n8105\n8111\n8116\n8125\n8133\n8130\n8151\n8159\n8158\n8180\n8175\n8184\n8189\n8190\n8193\n8227\n8251\n8252\n8243\n8235\n8236\n8255\n8263\n8272\n8275\n8279\n8281\n8287\n8296\n8299\n8311\n8312\n8315\n8321\n8314\n8323\n8324\n8325\n8318\n8321\n8337\n8338\n8354\n8364\n8374\n8381\n8383\n8393\n8394\n8419\n8433\n8432\n8433\n8441\n8447\n8445\n8457\n8460\n8458\n8469\n8477\n8479\n8480\n8486\n8483\n8485\n8490\n8489\n8490\n8502\n8506\n8505\n8507\n8516\n8525\n8526\n8533\n8539\n8546\n8541\n8545\n8555\n8564\n8580\n8581\n8575\n8585\n8598\n8602\n8603\n8604\n8605\n8601\n8603\n8621\n8608\n8621\n8627\n8631\n8634\n8636\n8669\n8671\n8691\n8687\n8702\n8705\n8714\n8716\n8718\n8719\n8740\n8741\n8742\n8743\n8740\n8744\n8747\n8732\n8734\n8737\n8762\n8767\n8770\n8769\n8773\n8774\n8767\n8800\n8802\n8803\n8808\n8814\n8818\n8823\n8827\n8828\n8835\n8843\n8844\n8850\n8852\n8849\n8858\n8854\n8841\n8844\n8848\n8849\n8885\n8891\n8899\n8902\n8905\n8906\n8917\n8924\n8925\n8931\n8933\n8943\n8951\n8953\n8954\n8966\n8978\n8976\n8989\n8994\n8993\n9002\n9023\n9024\n9057\n9060\n9068\n9070\n9071\n9089\n9099\n9097\n9113\n9123\n9125\n9129\n9124\n9125\n9147\n9151\n9154\n9157\n9159\n9165\n9136\n9138\n9144\n9157\n9190\n9197\n9207\n9214\n9222\n9229\n9230\n9231\n9234\n9243\n9248\n9255\n9256\n9255\n9258\n9269\n9289\n9290\n9292\n9294\n9277\n9278\n9279\n9292\n9293\n9301\n9284\n9285\n9286\n9290\n9293\n9295\n9297\n9314\n9331\n9343\n9346\n9372\n9392\n9395\n9399\n9400\n9401\n9402\n9403\n9416\n9437\n9453\n9455\n9456\n9457\n9458\n9446\n9460\n9461\n9467\n9484\n9469\n9470\n9465\n9480\n9482\n9486\n9490\n9493\n9488\n9510\n9513\n9516\n9518\n9523\n9526\n9530\n9553\n9558\n9562\n9572\n9573\n9583\n9599\n9600\n9601\n9610\n9615\n9634\n9639\n9642\n9669\n9676\n9678\n9679\n9681\n9682\n9684\n9689\n9698\n9709\n9710\n9712\n9719\n9721\n9733\n9734\n9741\n9751\n9767\n9769\n9768\n9770\n9769\n9771\n9773\n9769\n9780\n9787\n9789\n9794\n9802\n9803\n9807\n9809\n9810\n9811\n9813\n9816\n9823\n9828\n9835\n9849\n9851\n9861\n9883\n9884\n9889\n9890\n9893\n9907\n9909\n9923\n9930\n9929\n9912\n9917\n9929\n9930\n9932\n9945\n9959\n9961\n9962\n9982\n9987\n9993\n9996\n9999\n10000\n9990\n9992\n9993\n9995\n10010\n10014\n10020\n10021\n10029\n10041\n10047\n10052\n10056\n10057\n10060\n10078\n10083\n10101\n10103\n10110\n10116\n10128\n10131\n10132\n10143\n10148\n10151\n10156\n10159\n10164\n10165\n10189\n10190\n10202\n10203\n10207\n10199\n10216\n10215\n10221\n10239\n10244\n10245\n10262\n10265\n10270\n10271\n10248\n10269\n10272\n10275\n10274\n10280\n10289\n10301\n10304\n10305\n10309\n10306\n10324\n10330\n10337\n10348\n10357\n10362\n10363\n10365\n10366\n10373\n10378\n10379\n10382\n10387\n10395\n10396\n10397\n10406\n10415"} -->

```elixir
IO.getn("input", 100_000)
|> String.split("\n", trim: true)
|> Enum.map(&String.to_integer(&1))
|> Enum.chunk_every(2, 1, :discard)
|> Enum.map(fn [x, y] -> y > x end)
|> Enum.count(fn x -> x end)
```

```elixir
IO.getn("input", 100_000)
|> String.split("\n", trim: true)
|> Enum.map(&String.to_integer(&1))
|> Enum.chunk_every(3, 1, :discard)
|> Enum.map(&Enum.sum(&1))
|> Enum.chunk_every(2, 1, :discard)
|> Enum.map(fn [x, y] -> y > x end)
|> Enum.count(fn x -> x end)
```

## Day 2: Dive!

<!-- livebook:{"livebook_object":"cell_input","name":"input","type":"textarea","value":"forward 2\ndown 7\ndown 8\nforward 9\ndown 8\nforward 9\nforward 8\ndown 3\nforward 8\nforward 5\nup 2\ndown 9\ndown 4\nforward 4\nforward 3\ndown 8\ndown 9\nforward 5\ndown 1\nup 1\nforward 4\nup 5\nforward 2\ndown 6\nforward 9\nforward 3\nforward 7\ndown 6\ndown 1\nforward 8\ndown 3\nforward 1\nup 6\ndown 1\ndown 2\nforward 9\ndown 7\ndown 1\ndown 7\ndown 7\nup 5\ndown 8\nforward 6\nup 8\nup 2\nforward 6\nup 1\ndown 9\nforward 8\nforward 4\nup 3\nforward 7\ndown 2\ndown 8\nforward 5\ndown 9\nup 4\nforward 7\nforward 5\ndown 5\ndown 5\nforward 3\nforward 2\ndown 2\nup 4\nup 7\ndown 8\nup 8\nforward 1\nup 4\nforward 4\ndown 2\nforward 5\nforward 7\ndown 4\nforward 8\ndown 2\nforward 5\nforward 9\nforward 6\nforward 5\ndown 5\nforward 4\nforward 3\ndown 7\ndown 8\nforward 9\nforward 7\ndown 3\ndown 6\nforward 4\ndown 7\nup 9\ndown 8\nup 7\nup 3\nforward 6\nforward 9\ndown 2\ndown 3\ndown 1\ndown 3\nforward 8\nforward 3\nforward 9\ndown 5\nup 1\nup 2\ndown 9\nup 9\ndown 5\ndown 9\nforward 1\ndown 3\ndown 5\ndown 1\nforward 7\ndown 6\nforward 7\nforward 4\nup 2\nup 1\nforward 9\ndown 2\ndown 6\ndown 5\ndown 6\nforward 8\ndown 5\nforward 1\nforward 2\ndown 7\ndown 5\ndown 7\nup 9\ndown 9\nup 4\ndown 7\nup 8\ndown 9\nforward 3\ndown 6\ndown 2\nforward 9\ndown 4\nup 7\nforward 3\ndown 5\nforward 8\nforward 9\ndown 2\nup 5\nforward 2\nforward 9\nup 5\ndown 2\nforward 8\nforward 6\ndown 7\ndown 3\nforward 4\nforward 3\nforward 9\nup 4\nup 4\nforward 7\nup 3\nforward 6\ndown 7\nup 8\nforward 2\nup 1\ndown 6\nforward 4\nup 6\nup 6\nup 3\nforward 4\nforward 2\nforward 5\nforward 8\ndown 9\ndown 4\ndown 3\ndown 1\ndown 6\ndown 4\ndown 5\ndown 7\ndown 5\nup 4\nforward 3\ndown 4\ndown 7\ndown 7\ndown 2\nforward 2\nforward 9\nup 6\ndown 3\nup 9\nforward 8\ndown 9\nup 2\nup 2\nup 2\nup 1\ndown 6\nforward 9\nforward 2\nforward 2\nforward 2\nforward 5\nup 3\ndown 7\ndown 6\ndown 8\nup 3\nup 9\ndown 3\nforward 1\nforward 7\ndown 7\ndown 1\nforward 3\ndown 7\ndown 9\ndown 7\ndown 3\nup 2\ndown 6\nup 6\ndown 1\nup 2\nforward 7\nup 2\ndown 7\nup 2\ndown 9\ndown 3\nforward 6\ndown 5\ndown 1\nforward 5\ndown 2\ndown 6\ndown 1\ndown 3\ndown 3\ndown 5\nforward 2\nforward 4\nforward 8\nforward 6\nforward 4\nforward 9\nup 8\ndown 5\nforward 1\ndown 1\nforward 1\nforward 6\nup 1\ndown 6\ndown 3\nforward 9\nforward 5\nforward 4\nup 3\nup 7\ndown 2\nup 4\nup 2\ndown 1\nforward 6\nforward 9\nforward 4\nforward 2\ndown 8\nforward 4\nforward 3\nup 5\ndown 4\nforward 3\ndown 8\ndown 5\ndown 5\nforward 1\nforward 6\nforward 4\nforward 5\nforward 9\nforward 5\ndown 4\nforward 3\nforward 8\ndown 8\ndown 1\nup 4\ndown 4\nup 7\nforward 2\nforward 6\ndown 3\ndown 5\ndown 5\ndown 8\nup 3\ndown 2\nforward 4\nforward 2\nforward 4\nforward 9\nup 2\ndown 7\nup 7\ndown 2\nforward 4\nup 7\nforward 4\ndown 2\nforward 7\nup 2\ndown 3\nforward 5\ndown 7\ndown 2\nup 2\nup 1\nup 7\nup 9\ndown 3\nforward 1\nforward 3\ndown 2\ndown 3\nforward 6\ndown 7\nforward 9\ndown 9\nforward 3\nforward 2\ndown 1\nup 9\ndown 4\nforward 4\nup 4\nforward 7\nup 3\ndown 4\ndown 9\ndown 3\nforward 7\ndown 6\ndown 7\ndown 6\nup 5\nforward 3\nforward 9\nup 2\nup 4\nup 9\ndown 2\nforward 5\nup 1\ndown 7\ndown 5\nup 2\nforward 8\ndown 8\nup 3\nforward 4\ndown 9\nforward 6\ndown 9\ndown 5\nforward 6\ndown 8\nup 6\ndown 3\nforward 6\nforward 3\ndown 3\ndown 5\ndown 7\ndown 1\ndown 5\ndown 7\ndown 5\nforward 3\ndown 2\nforward 4\nup 4\nup 1\nup 7\nforward 1\nforward 5\ndown 4\ndown 8\ndown 3\nforward 4\ndown 3\nup 7\ndown 6\nforward 9\nup 8\nforward 2\nforward 5\ndown 6\nup 4\nforward 8\nforward 5\ndown 6\nforward 2\ndown 7\nforward 3\nforward 1\nforward 6\ndown 9\nup 6\ndown 4\ndown 2\nup 8\nforward 4\ndown 8\nforward 8\nup 9\nforward 7\ndown 6\nup 9\ndown 4\nup 6\ndown 4\ndown 3\nup 7\nup 4\nforward 5\nup 9\ndown 9\nup 6\ndown 3\nforward 8\ndown 9\nforward 7\nup 3\nup 9\nforward 8\ndown 3\nforward 3\nforward 5\ndown 6\nforward 3\ndown 4\nup 6\nforward 3\nforward 7\ndown 1\ndown 6\ndown 4\nforward 6\nup 6\ndown 5\ndown 6\ndown 4\nup 2\ndown 7\ndown 9\ndown 2\ndown 6\nforward 3\nforward 4\ndown 5\nup 5\ndown 5\nforward 3\nforward 6\ndown 4\ndown 7\nup 2\nforward 7\ndown 7\nup 6\nup 3\nforward 9\nforward 8\nup 6\nforward 2\ndown 2\nforward 8\nforward 4\nup 6\nforward 6\ndown 8\nup 3\nup 5\nforward 6\nup 8\ndown 1\ndown 4\nup 9\nforward 6\nup 5\ndown 6\ndown 8\ndown 9\nforward 5\nup 3\ndown 7\nforward 3\nforward 6\ndown 3\ndown 1\ndown 9\nup 9\ndown 4\ndown 7\nforward 2\nforward 4\ndown 7\nforward 7\nup 5\ndown 9\nup 7\ndown 4\nforward 6\ndown 5\nforward 4\nup 8\ndown 4\ndown 7\nforward 3\ndown 6\ndown 1\nforward 3\ndown 4\nup 6\nup 5\nup 7\nforward 5\ndown 4\nforward 7\nup 1\ndown 4\nforward 4\ndown 2\ndown 6\nforward 1\nup 3\nup 8\nforward 6\nforward 6\ndown 5\nforward 7\ndown 6\ndown 8\nforward 6\ndown 6\nforward 3\nforward 5\ndown 9\ndown 5\nup 4\ndown 5\ndown 1\nforward 1\nforward 5\ndown 2\nforward 5\nforward 2\nforward 5\nup 3\nforward 5\nup 8\nforward 9\nforward 3\ndown 2\nup 2\nforward 7\ndown 5\nup 1\ndown 3\ndown 7\nup 2\nforward 8\nforward 6\nforward 1\nforward 6\nforward 6\ndown 5\nforward 4\ndown 5\nforward 9\nforward 7\ndown 7\ndown 7\ndown 9\nforward 4\ndown 4\nforward 3\ndown 6\nforward 5\ndown 9\nforward 6\nup 7\ndown 3\nup 4\nup 4\ndown 1\ndown 2\nup 5\nforward 6\nforward 2\ndown 7\nup 6\nup 3\ndown 8\nforward 1\ndown 3\nup 9\ndown 2\nforward 6\nforward 1\nforward 4\nup 1\ndown 8\ndown 2\ndown 9\ndown 5\nforward 3\ndown 1\ndown 6\ndown 5\ndown 3\nforward 1\nforward 9\nup 2\ndown 3\ndown 3\ndown 9\ndown 7\nforward 6\nforward 8\nforward 4\nup 7\ndown 2\nforward 3\nforward 1\nup 4\nforward 8\nup 9\nforward 8\nforward 2\ndown 5\nforward 2\ndown 6\ndown 6\ndown 4\nforward 8\ndown 6\nforward 2\nforward 8\ndown 7\ndown 6\nforward 2\ndown 1\ndown 8\nforward 2\nforward 9\nup 6\nforward 6\ndown 3\ndown 2\nup 5\nup 6\ndown 6\nup 7\nforward 5\nforward 7\ndown 1\nforward 7\nforward 9\ndown 3\nforward 4\nforward 5\ndown 1\nup 3\nforward 2\nup 5\nforward 2\nforward 1\ndown 5\ndown 4\ndown 8\nup 8\nforward 3\ndown 3\nforward 4\ndown 6\nup 8\ndown 5\nup 2\ndown 1\nup 3\nforward 8\nup 6\nforward 9\nup 9\ndown 5\nforward 2\nforward 9\nup 6\nforward 1\ndown 2\nforward 4\nforward 4\nforward 1\nforward 5\nforward 1\nforward 4\ndown 5\ndown 1\ndown 2\ndown 2\nforward 7\ndown 7\ndown 7\ndown 4\ndown 7\ndown 4\ndown 3\nup 7\nup 1\nforward 2\nforward 3\ndown 4\ndown 5\nforward 9\nup 7\nforward 6\ndown 1\nforward 6\nforward 6\nforward 8\ndown 3\nforward 2\ndown 6\nforward 9\nup 6\nup 6\nforward 7\ndown 5\ndown 6\nup 3\ndown 5\nup 4\nforward 3\ndown 7\nforward 9\nup 1\ndown 1\nup 6\ndown 3\nup 2\ndown 5\nforward 3\nforward 6\ndown 9\ndown 4\nforward 7\ndown 1\nup 1\nforward 3\nforward 5\nup 7\ndown 3\nup 9\nup 9\ndown 4\nup 4\nforward 8\nup 9\ndown 8\nforward 6\nforward 4\nforward 9\nforward 8\ndown 2\nforward 3\nforward 2\ndown 3\nup 1\nforward 6\ndown 3\ndown 7\ndown 3\ndown 5\ndown 9\nup 9\nforward 8\nforward 6\ndown 8\nforward 3\ndown 4\ndown 2\ndown 9\nforward 4\nforward 2\nup 4\nforward 1\nup 8\nup 1\ndown 4\nup 2\ndown 1\nup 7\ndown 2\ndown 4\nup 4\nforward 2\ndown 3\nforward 2\nforward 3\ndown 5\nforward 9\nforward 7\ndown 1\nup 3\ndown 3\nforward 3\ndown 6\nforward 5\nup 3\nup 3\nup 1\nforward 7\nforward 1\nforward 2\nforward 2\ndown 4\nup 7\nforward 1\nforward 1\nforward 6\ndown 8\nup 8\ndown 8\ndown 4\ndown 6\nforward 8\nforward 4\nforward 5\ndown 2\ndown 3\nforward 7\ndown 6\nforward 4\nforward 1\nup 7\nup 5\nup 2\nforward 1\nforward 8\nforward 2\nup 9\nforward 4\nforward 5\ndown 2\nforward 5\nforward 7\ndown 3\nforward 1\ndown 3\nup 5\nup 2\nup 2\nup 2\nforward 4\nforward 4\nforward 8\nforward 2\ndown 3\nup 7\ndown 4\ndown 2\ndown 7\nforward 2\ndown 2\nforward 7\nup 9\nup 7\nforward 7\nforward 7\ndown 3\ndown 4\nup 4\ndown 2\ndown 8\nforward 4\ndown 1\nup 6\nforward 4\ndown 2\nup 8\ndown 1\ndown 8\ndown 6\nup 9\nforward 4\nup 1\ndown 2\ndown 9\ndown 7\ndown 4\ndown 8\ndown 8\nup 1\ndown 5\nup 5\ndown 7\nup 7\nforward 5\ndown 3\nforward 7\nup 5\ndown 3\nforward 9\nup 5\ndown 7\nforward 8\nforward 8\ndown 2\nforward 7\nforward 8\ndown 4\nup 7\ndown 2\nup 7\nforward 5\ndown 1\ndown 3\nforward 9\nup 4\nforward 6\nforward 4\ndown 5\ndown 7\nforward 2\nforward 4\ndown 2\nforward 1\ndown 5\nup 2\ndown 8\ndown 1\ndown 4\ndown 8\ndown 6\nforward 9\nforward 2\nforward 6\nforward 4\ndown 1\nforward 8\nup 4\nforward 6\ndown 4\nforward 4\nforward 3\nforward 6\nforward 9\nforward 8\ndown 1\nforward 5\ndown 8\nforward 7\nup 1\ndown 3\nup 6\nforward 5\nforward 8\nforward 8\nforward 5\nforward 5\nforward 1\nup 9\nforward 7\nup 3\ndown 2\ndown 4\nforward 6\nup 2\nforward 5\nup 8\nforward 8\nforward 2\nforward 6\nforward 3\nup 4\nforward 3\nforward 6"} -->

```elixir
IO.getn("input", 100_000)
|> String.split("\n", trim: true)
|> Enum.map(&String.split(&1, " "))
|> Enum.split_with(fn [action, _] ->
  case action do
    "forward" -> true
    _ -> false
  end
end)
|> then(fn {l, r} ->
  {
    Enum.map(l, fn [_, v] -> String.to_integer(v) end),
    Enum.map(r, fn [action, v] ->
      case action do
        "up" -> String.to_integer(v) * -1
        "down" -> String.to_integer(v)
      end
    end)
  }
end)
|> then(fn {l, r} -> Enum.sum(l) * Enum.sum(r) end)
```

```elixir
IO.getn("input", 100_000)
|> String.split("\n", trim: true)
|> Enum.map(&String.split(&1, " "))
|> Enum.map(fn [action, v] ->
  v = String.to_integer(v)

  case action do
    "up" -> [0, -v, 0]
    "down" -> [0, v, 0]
    "forward" -> [v, 0, v]
  end
end)
|> Enum.reduce({0, 0, 0}, fn [h, a, d], {acc_h, acc_a, acc_d} ->
  {
    acc_h + h,
    acc_a + a,
    acc_d + d * (acc_a + a)
  }
end)
|> then(fn {x, _, y} -> x * y end)
```

## Day 3: Binary Diagnostic

<!-- livebook:{"livebook_object":"cell_input","name":"input","type":"textarea","value":"000111111001\n111011110110\n101111111000\n111100100110\n001111011000\n011100010110\n000101001001\n100001100101\n000011111100\n110000101000\n011110110101\n011000111100\n011000001011\n010111101101\n011111100010\n100110001111\n100111100100\n111110010100\n101001001110\n110101111110\n110110100000\n001010001110\n101100001100\n111001011000\n100101111111\n001001010100\n100111011000\n100101100000\n010001010101\n000111001100\n001100011110\n101100010101\n111011000011\n010000001110\n110000000110\n001010110000\n100011001111\n110100111101\n111111010100\n000101110111\n011110101111\n100110000110\n010011000000\n000110010000\n101101101011\n011101100011\n011111101001\n100101111011\n100010101010\n010000011011\n100110101011\n010110000010\n110101010000\n001000101100\n101000001000\n000110111110\n001000111001\n110000011001\n011101001010\n101011100011\n111010010010\n111100110111\n011110100001\n101111111111\n011100001001\n000011100100\n100010101001\n101101000100\n010110111110\n111001001011\n010110010001\n100110001110\n110101100111\n110010111110\n000011101010\n100110000101\n011100000111\n001100100011\n001001011101\n111111101001\n110110000000\n001101100000\n111101100110\n011110100011\n001011010111\n000001010100\n100111000110\n111000101111\n111010100011\n101101011011\n010110010011\n010110111111\n100011011000\n001010111101\n100100110010\n110001100000\n010111011111\n000011111111\n010110000011\n010100000001\n111110011100\n110110110001\n000110001010\n101100101110\n110010011111\n101101110011\n000110011101\n101101111010\n101110111011\n100000000011\n010110010111\n010001111001\n100001110011\n011011111011\n101101010011\n010100101111\n001001000000\n100110101000\n000101100010\n011110000001\n000011101011\n110111110101\n010110100100\n010001011101\n110101001010\n011010011011\n110001110011\n011001011011\n100101110010\n111110000101\n100001100011\n010100000011\n111101101001\n101111101001\n001111011101\n100011101111\n100100000001\n010101101111\n110000110001\n000000101011\n011000011110\n110111100010\n110010101110\n010110100111\n101011010000\n101011100010\n100010111000\n000000001110\n010010001001\n001011010010\n100011001101\n110110100001\n011110111000\n000110101010\n010010111011\n011111100101\n010101111011\n100011010100\n100000111010\n010011001101\n100010100111\n111111100010\n111100001111\n111010001101\n100011000001\n111001101011\n111110010011\n010100001010\n101001111100\n101010111110\n010110110010\n000011111101\n010011100000\n010001100111\n110111010100\n111101100000\n001101101111\n110110000101\n111110110101\n010011100101\n000011000101\n011010001010\n000111000011\n000011000110\n101010001000\n101011110111\n011010010011\n011111000001\n011101011010\n001011001001\n001100110010\n010011111001\n010101111000\n010000111101\n011100110000\n101100000011\n000111100110\n011001110110\n111000100001\n110010001010\n010000000011\n110110110111\n111110111100\n010001101000\n000001100011\n111001001101\n010111101011\n001110000010\n100011100010\n001011010000\n010000001011\n011100011010\n010100001001\n100110011111\n011110010011\n010100011101\n001111110100\n100001100111\n111110100010\n000111110001\n011100011001\n000101010101\n101000000100\n101010110001\n111101000101\n000110000010\n100101001010\n101001111101\n111010011001\n101100101111\n101010101001\n110101001101\n111000101010\n001101010111\n001111111011\n001101011101\n011101000101\n100100100010\n111100010011\n101111101010\n101011001100\n101101111011\n101110011000\n111100001001\n011111001010\n010110011010\n010111101111\n010101001101\n111011000101\n110010011110\n111101011001\n111101000100\n000010001101\n000010011110\n001111000001\n110110111011\n100001001011\n100111110110\n011110100010\n011001110100\n010001010010\n111111011000\n000110111011\n001100001010\n001110000101\n001110101100\n010100111001\n011101000111\n001001011001\n101111000110\n111011011011\n000010010100\n100101011101\n111110011011\n101000101111\n010110001111\n000010101100\n110011011001\n011001010100\n010010010011\n100000000010\n100110100101\n010011000110\n111010110111\n001100101000\n010110000100\n001011011110\n001001111101\n111001101010\n110101001111\n101111100000\n001100000110\n011111100110\n100000001000\n101010001001\n010101110011\n011011001111\n000000111000\n100100011011\n101100110001\n110111000000\n101100111000\n010010010101\n111011000001\n000000000101\n010111000001\n110000010101\n010010101111\n101001110010\n011111000010\n001011100001\n101111000010\n001110101101\n111110100101\n111011001101\n100011001100\n010011010110\n010001111000\n110010011011\n001100011000\n110011000000\n000000000001\n100111111011\n000111000110\n010110101110\n101110110100\n010100110110\n100011010110\n010100001101\n111110010110\n010000101011\n110100110101\n001101011000\n010101110101\n011100110111\n000100110111\n001110111001\n000010000010\n100110111001\n001011011010\n000000010111\n101011000001\n110110000111\n101110001101\n000000000111\n011000010100\n010111111101\n111011110011\n110100111111\n000001010111\n101000101101\n110100010110\n011101101000\n100000001011\n011000000111\n110100010011\n011100010010\n010110001001\n111101111001\n101001001010\n110000100011\n011001101001\n010101110100\n101000011000\n101111100111\n010110110100\n001000111110\n000101000001\n111011011110\n000101101111\n111000110001\n010101010100\n110001100001\n000100010110\n010011000100\n011011010111\n001100010000\n000110010111\n111111011001\n100010011011\n100100111101\n110100010010\n100001110111\n100000101011\n010001000100\n101110100101\n000111100001\n111001101111\n101111011110\n001111000011\n011011101100\n100001010000\n000110100110\n110111010110\n101100010110\n101110001001\n100011010101\n111111010001\n011111101000\n110111110001\n010111000011\n001000100101\n111101110010\n101111010000\n010001110101\n101011100000\n010101101110\n100010000100\n010100010011\n001011111010\n110000110110\n100001101010\n001001100101\n111111110101\n000011011100\n011111010000\n101110011110\n010011011101\n111111000111\n010000011101\n110011001001\n100011101110\n111100011011\n000110110100\n101000000110\n100101100001\n101100010000\n101101011110\n010001111110\n010101001010\n101011111111\n100001101110\n110000001000\n010010011011\n111011111011\n001101101001\n011001010001\n110110111110\n001111010001\n000011001101\n110111100100\n000111110100\n000100111101\n011101100111\n111001000101\n110001111011\n110000110010\n101000110000\n010100000000\n101011001110\n110111111000\n010010000011\n100001000111\n111111010110\n111000010011\n010101001111\n101001110001\n100011011010\n001001010101\n100111011001\n111011010111\n001010010100\n000101110011\n111000101011\n011111000000\n101001111010\n111000000100\n010001101101\n100000100010\n100001010100\n110000010011\n000000001101\n100000011101\n011010001100\n001101111111\n010011011001\n011011011101\n101001010001\n101111110111\n100010110011\n001000110010\n101111001000\n001011001100\n001110010011\n001010001101\n110101001001\n101100010001\n101001110110\n000000100000\n100011000110\n110101000100\n001011101010\n100000011000\n010010011000\n000001010011\n111110101010\n110100111010\n010010011110\n111111101110\n000010111110\n000010101110\n000110100000\n001011000100\n010111100011\n000111111011\n010100001000\n001100010111\n010111100101\n110010010001\n101000100001\n110111011111\n110111100101\n000110110000\n011110000100\n110001001110\n111110001001\n111100101010\n011011100011\n110001000000\n000000000100\n101011011110\n000000001010\n010110010000\n011011010110\n101001000101\n110101011001\n000010000101\n111011000111\n010111001110\n011100011000\n001111100001\n110101011011\n010110110001\n101010101101\n101100110000\n000011101101\n000001111111\n111101001110\n111000111110\n100010111001\n100010001011\n000100101001\n011001111110\n111001110001\n001100110101\n011010001001\n011000101101\n110100001010\n100001010101\n011000000001\n111001001000\n100111010001\n110000101101\n100101000010\n100000011001\n001100010110\n110100000100\n100110110010\n100100001001\n100010101100\n101010100110\n011000110000\n110001000110\n011010000000\n111111100000\n111001001010\n101001101110\n111000000101\n000000010010\n011011110001\n000011011110\n000110110101\n101100011011\n111111110011\n010100010101\n111001010110\n000001110010\n111001101000\n111110100000\n001001110001\n101111111011\n101110101010\n100100100100\n100110110001\n100010000010\n111101101101\n111001101110\n110010110011\n111110100111\n100001111010\n110011111011\n100100001010\n110010110111\n001110111100\n101011111110\n011000111001\n000011100111\n000111101000\n000001111011\n100101111001\n011100011100\n100100111010\n111000010101\n011101110001\n011010000010\n001111001010\n101001100001\n000011101001\n010110110011\n101000100010\n110100111001\n111110100001\n100010111100\n100100111011\n000011010010\n001100001001\n011101100110\n001111101111\n000110010010\n001100001111\n100110000100\n001111001111\n110110100010\n001111001000\n000010011100\n010101101100\n010110000101\n001101100111\n000010110100\n100011011100\n110010110100\n001001100100\n001010011011\n001000011101\n110000111100\n110001001010\n010101001000\n110011101010\n001011110111\n110100000101\n001101011110\n111100111000\n011111010100\n101001001100\n110011111000\n010010001000\n000000100010\n101010100111\n101010001110\n101000000001\n010011100111\n111000110101\n110011011111\n000001111000\n011000010111\n101001011111\n011011100000\n110000100001\n010111000110\n001001111111\n010111111000\n001111110010\n111101000111\n100101100011\n110001111010\n101000110110\n110000100000\n010110001100\n110101001000\n110100010000\n011110000110\n100110011000\n011001111100\n010111111110\n001001100001\n100110111010\n111001110000\n010010010110\n100111111110\n101111101101\n001000010001\n110001001001\n101110010011\n001000101010\n010001101111\n011101101010\n100000000101\n101000111000\n110111110100\n111111010011\n011101010100\n101001111111\n101101101000\n000011100010\n010100011001\n000111100010\n000100011110\n110101101110\n010010101010\n000010100001\n010101100101\n000101110000\n110101111011\n000100011010\n110110110101\n000101111000\n111100100111\n011011111110\n110111001011\n111001110100\n010001011000\n111001010100\n110001111111\n111100010101\n110110001000\n001010010011\n110011110010\n000000100110\n100001111001\n010110100101\n100010001100\n001000010011\n001001000100\n110110011010\n111001111110\n101110001011\n010000010010\n101001101101\n001000010000\n110011000011\n001111101110\n110110111000\n000101010000\n001100111101\n000000100101\n010111010100\n101101101111\n110010001000\n101001011011\n011111110000\n001101111011\n010110001110\n011000001101\n001000011111\n010011101000\n111110111111\n011110000101\n001011001110\n110001001101\n100011111111\n110100101110\n000111010101\n101001000010\n000011001010\n001111110101\n110100111000\n111010000010\n001011001101\n110111011110\n101100001000\n111011101111\n101001011101\n100001100100\n010111000100\n101111010100\n001111001101\n101110110001\n011100110100\n001101100101\n110100011000\n110110110100\n100010011111\n011001001101\n000000110001\n011010111000\n110111111101\n100100010011\n010011101101\n100100110001\n110010011001\n100110011011\n101111100110\n100000010011\n010111011100\n001011000101\n110100110010\n000111001110\n000011011101\n000001011010\n010010100101\n101100100110\n100001101111\n101011100110\n001100001000\n001101000010\n111111111011\n110111010101\n111000010100\n110011101101\n100110010111\n001110010100\n011010110001\n010011110010\n011101000000\n101001000111\n000010101011\n110100000111\n011101000010\n011000111010\n110101100000\n110100011011\n111111100101\n000100100001\n111100001010\n101110111000\n011000010010\n100001101101\n001111101001\n111101111100\n110100010101\n100011111101\n101000101010\n101010110100\n111101100011\n000000000010\n011001111111\n010101011000\n001000111111\n111010101010\n100001111100\n001101001000\n111100000101\n000100011101\n010010110110\n010100010111\n110101010101\n000011001111\n010010110000\n110110111001\n010000100000\n000000011000\n110011011100\n010110001010\n100001001111\n100010011101\n111111111101\n101100011000\n010101000101\n111000101101\n101000011010\n101101000001\n111001100001\n010001010100\n100101110011\n010000111111\n000110000001\n011011000000\n111011001100\n111001100011\n011101001011\n001000110000\n010010011111\n101110001000\n011101011011\n110010001101\n000000111011\n001001001111\n010100000010\n001000111000\n111110000110\n000010111111\n010001100110\n011100011111\n011101001000\n110100000000\n110111111100\n010010011010\n011111000110\n001000100111\n101011111000\n001101110110\n100010010101\n110000100100\n001101110100\n111111010111\n110011001110\n101110100111\n111111000010\n101110010010\n011000000010\n001110011001\n100110010100\n100111111010\n110110100100\n010101001011\n110101011101\n001100000011\n101110000000\n111100011010\n010011111110\n000110101111\n010011001100\n101011011111\n001101101010\n010100110000\n010011111010\n111110000001\n101001101011\n000000110111\n010000000110\n011101011001\n100001011111\n011110111001\n110111110000\n011100001000\n110000110000\n001101111001\n111011101010\n010000111010\n111001000000\n011011010000\n000001101001\n111011001011\n010111111011\n101000010111\n001011010011\n101100011111\n011111011000\n011111100001\n101100001010\n100111101000\n111110110110\n011001100011\n001111100000\n111011001110\n100000001101\n100010100001\n000010100100\n111001101001\n010100111101\n000011001110\n101111001100\n111010110010\n100000100111\n000011100101\n000100000010\n100010011001\n010001100011\n000011110010\n010111011001\n011001010000\n011011110011\n111000100011\n011110011101\n000000100011\n001011100100\n001111001100\n101100110100\n101100110101\n001010101111\n011000110010\n100010100011\n000010001100\n101101010010\n001011011000\n100010100010\n010010100010\n001111101100\n001000110111\n011111000111\n011110111101\n011010001011\n111101001100\n101010110110\n010101110010\n011001111011\n011101110010\n001110001111\n110111000101\n100011110011\n001010010000\n000101001100\n110011100110\n000101101010\n010111100110\n111001111010\n001000000100\n110111011001\n110001011001\n100101110001\n001010001001\n100100111001\n001100000010\n000001011000\n001010100110\n000101110101\n010101111010\n100100110000\n110011001010\n011001110101"} -->

```elixir
defmodule M do
  def calc(freq, func) do
    freq
    |> Enum.map(&func.(&1, fn r -> elem(r, 1) end))
    |> Enum.map(&elem(&1, 0))
    |> List.to_string()
    |> String.to_integer(2)
  end
end

IO.getn("input", 100_000)
|> String.split()
|> Enum.map(&String.to_charlist/1)
|> Enum.zip()
|> Enum.map(&Tuple.to_list/1)
|> Enum.map(&Enum.frequencies/1)
|> then(fn freq ->
  M.calc(freq, &Enum.max_by/2) * M.calc(freq, &Enum.min_by/2)
end)
```

```elixir
defmodule M do
  defp freq_bit(li, max_fn) do
    li
    |> Enum.frequencies()
    |> max_fn.()
    |> then(fn r -> elem(r, 0) end)
  end

  def filter(li, position, max_fn) do
    if length(li) == 1 do
      li
    else
      filter(do_filter(li, position, max_fn), position + 1, max_fn)
    end
  end

  defp do_filter(li, position, max_fn) do
    li
    |> Enum.zip()
    |> Enum.at(position)
    |> Tuple.to_list()
    |> freq_bit(max_fn)
    |> then(fn bit ->
      Enum.filter(li, fn l -> Enum.at(l, position) == bit end)
    end)
  end

  defp max(li) do
    Enum.max_by(
      li,
      fn r -> elem(r, 1) end,
      fn x, y -> x > y end
    )
  end

  defp min(li) do
    Enum.min_by(
      li,
      fn r -> elem(r, 1) end,
      fn x, y -> x <= y end
    )
  end

  def oxygen(li) do
    li
    |> filter(0, &max/1)
    |> Enum.at(0)
    |> List.to_string()
    |> String.to_integer(2)
  end

  def co2(li) do
    li
    |> filter(0, &min/1)
    |> Enum.at(0)
    |> List.to_string()
    |> String.to_integer(2)
  end
end

oxygen =
  IO.getn("input", 100_000)
  |> String.split()
  |> Enum.map(&String.to_charlist/1)
  |> then(&(M.oxygen(&1) * M.co2(&1)))
```
